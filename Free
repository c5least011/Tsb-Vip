local ScreenGui = Instance.new("ScreenGui")
local Frame = Instance.new("Frame")
local Title = Instance.new("TextLabel")
local PlayersButton = Instance.new("TextButton")
local DummyButton = Instance.new("TextButton")
local StopButton = Instance.new("TextButton")

ScreenGui.Parent = game.CoreGui
Frame.Parent = ScreenGui
Frame.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
Frame.Size = UDim2.new(0, 200, 0, 150)
Frame.Position = UDim2.new(0.5, -100, 0.5, -75)
Frame.Active = true
Frame.Draggable = true

Title.Parent = Frame
Title.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
Title.Size = UDim2.new(1, 0, 0, 30)
Title.Font = Enum.Font.SourceSansBold
Title.Text = "C5_TSB"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.TextSize = 20

PlayersButton.Parent = Frame
PlayersButton.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
PlayersButton.Position = UDim2.new(0, 10, 0, 40)
PlayersButton.Size = UDim2.new(0, 180, 0, 30)
PlayersButton.Font = Enum.Font.SourceSansBold
PlayersButton.Text = "Players"
PlayersButton.TextColor3 = Color3.fromRGB(255, 255, 255)
PlayersButton.TextSize = 18

DummyButton.Parent = Frame
DummyButton.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
DummyButton.Position = UDim2.new(0, 10, 0, 80)
DummyButton.Size = UDim2.new(0, 180, 0, 30)
DummyButton.Font = Enum.Font.SourceSansBold
DummyButton.Text = "Dummy"
DummyButton.TextColor3 = Color3.fromRGB(255, 255, 255)
DummyButton.TextSize = 18

StopButton.Parent = Frame
StopButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
StopButton.Position = UDim2.new(0, 10, 0, 120)
StopButton.Size = UDim2.new(0, 180, 0, 30)
StopButton.Font = Enum.Font.SourceSansBold
StopButton.Text = "Stop"
StopButton.TextColor3 = Color3.fromRGB(255, 255, 255)
StopButton.TextSize = 18

local p = game.Players.LocalPlayer
local running = false

local function getRandomPlayer()
    local players = {}
    for _, v in pairs(game.Players:GetPlayers()) do
        if v ~= p and v.Character and v.Character:FindFirstChild("HumanoidRootPart") then
            table.insert(players, v)
        end
    end
    return #players > 0 and players[math.random(1, #players)] or nil
end

local function followPlayers()
    running = true
    while running do
        local target = getRandomPlayer()
        if not target then task.wait(1) continue end

        repeat
            if not running then return end
            if target.Character and target.Character:FindFirstChild("HumanoidRootPart") and p.Character then
                p.Character:WaitForChild("HumanoidRootPart").CFrame = target.Character.HumanoidRootPart.CFrame * CFrame.new(0, 0, 3)
            else
                break
            end
            task.wait(0.1)
        until not target.Character or not target.Character.Parent
    end
end

local function followDummy()
    running = true
    local d repeat d = game.Workspace.Live:FindFirstChild("Weakest Dummy") task.wait() until d
    local t = d:WaitForChild("Torso")

    while running and d and d.Parent and t and t.Parent do
        p.Character.HumanoidRootPart.CFrame = t.CFrame * CFrame.new(0, 0, 3)
        task.wait(0.1)
    end

    d.AncestryChanged:Connect(function()
        if not running then return end
        repeat task.wait() until game.Workspace.Live:FindFirstChild("Weakest Dummy")
        d = game.Workspace.Live:FindFirstChild("Weakest Dummy")
        if d then t = d:WaitForChild("Torso") followDummy() end
    end)
end

PlayersButton.MouseButton1Click:Connect(function()
    running = false
    task.wait(0.2)
    task.spawn(followPlayers)
end)

DummyButton.MouseButton1Click:Connect(function()
    running = false
    task.wait(0.2)
    task.spawn(followDummy)
end)

StopButton.MouseButton1Click:Connect(function()
    running = false
end
